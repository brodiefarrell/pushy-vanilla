(()=>{let e=document.querySelector(".pushy"),t=document.querySelector("body"),c="pushy-left",n="pushy-open-left",o="pushy-open-right",s=document.querySelector(".site-overlay"),a=document.querySelector(".pushy-link"),i="pushy-submenu-open",l="pushy-submenu-closed",u=document.querySelectorAll(".pushy-submenu");var r=e.dataset.menuBtnSelector??".menu-btn",d=document.querySelector(r);let L=document.querySelector(r);function y(){e.classList.contains(c)?t.classList.remove(n):t.classList.remove(o)}u.forEach(s=>{s.classList.add(l),s.addEventListener("click",function(s){var e=s.currentTarget;e.classList.contains(l)?(e.parentNode.childNodes.forEach(s=>{void 0!==s.classList&&(s.classList.add(l),s.classList.remove(i))}),e.classList.remove(l),e.classList.add(i)):(e.classList.add(l),e.classList.remove(i)),s.stopPropagation()})}),d.addEventListener("click",function(s){(t.classList.contains(n)||t.classList.contains(o)?L:a).focus(),e.classList.contains(c)?t.classList.toggle(n):t.classList.toggle(o)}),s.addEventListener("click",function(s){y()}),window.addEventListener("keyup",function(s){"Escape"===s.key&&(t.classList.contains(n)||t.classList.contains(o))&&(y(),L)&&L.focus()})})();